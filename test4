import React, { useEffect, useRef } from "react";
import AccordionDetails from "@mui/material/AccordionDetails";
import Button from "@mui/material/Button";
import AddBoxIcon from "@mui/icons-material/AddBox";
import { useState } from "react";
import Autocomplete from "@mui/material/Autocomplete";
import { createTheme } from "@mui/material";
import { ThemeProvider } from "@mui/material/styles";
import { makeStyles } from "@mui/styles";
import CloudUploadIcon from "@mui/icons-material/CloudUpload";
import { styled } from "@mui/material/styles";
import Checkbox from "@mui/material/Checkbox";
import FormGroup from "@mui/material/FormGroup";
import FormControlLabel from "@mui/material/FormControlLabel";
import FormControl from "@mui/material/FormControl";
import SaveAltIcon from "@mui/icons-material/SaveAlt";
import CachedIcon from "@mui/icons-material/Cached";
import * as Yup from "yup";
import { useFormik } from "formik";
import { useSelector } from "react-redux";
import Snackbar from "@mui/material/Snackbar";
import FormLabel from "@mui/material/FormLabel";

import { useNavigate } from "react-router-dom";
import { Grid, TextField, Box, Slide, Alert, Typography } from "@mui/material";
import axios from "axios";
import Payumoney from "../BasicEmp/Payu";
import PaymentSuccess from "../BasicEmp/Successpayment";
function TransitionLeft(props) {
    return <Slide {...props} direction="left" />;
}

const PageFour = ({
    onButtonClick,
    casteid,
    applicationnum,
}) => {
    console.log(applicationnum);
    const navigate = useNavigate();
    console.log(casteid);
    const [amounts, setamounts] = useState(0);
    let mobilenumber;
    let name;
    useEffect(() => {
        axios
            .get(
                `${process.env.REACT_APP_JOBAPPLICATION_API_URL
                }/recruitment/personalDetails/${applicationnum}`
            )
            .then(response => {
                console.log("one", response.data.result);
                name = response.data.result.fullName
                mobilenumber = response.data.result.contactNumber
            })
            .catch(error => {
                console.log(error);
            });

    }, [mobilenumber, name]);
    useEffect(() => {
        if (casteid === 10) {
            //amounts = 500;
            setamounts(500);
        } else if (casteid === 11) {
            //amounts = 50;
            setamounts(300);
        } else {
            //amounts = 0;
            setamounts(1);
        }

        // Do something with the 'amounts' variable if needed
        // For example, console.log(amounts);
    }, [casteid]);
    console.log(amounts);


    return (
        <div style={{ padding: "0px 60px", marginBottom: "5px" }}>
            <Payumoney
                applicationnum={applicationnum}
                mobilenumber={mobilenumber}
                username={name}
                totalpayamount={amounts}
            ></Payumoney>
            {/* <PaymentSuccess></PaymentSuccess> */}
            {/* <Box spacing={2} sx={{ margin: 2, textAlign: "center" }}>
          Amount to be Paid : {amounts}
        </Box> */}
        </div>
    );
};
export default PageFour;

// recruitment/personalDetails/${34}
