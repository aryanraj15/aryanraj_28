import React, { useState } from 'react';
import { TextField, Button, Select, MenuItem, FormControl, InputLabel, Box, IconButton } from '@mui/material';
import { RemoveCircle } from '@mui/icons-material';

const EducationForm = () => {
  const [educations, setEducations] = useState([
    { degree: '', university: '', percentage: '' },
  ]);

  const handleAddEducation = () => {
    setEducations([...educations, { degree: '', university: '', percentage: '' }]);
  };

  const handleRemoveEducation = (index) => {
    const updatedEducations = [...educations];
    updatedEducations.splice(index, 1);
    setEducations(updatedEducations);
  };

  const handleInputChange = (index, field, value) => {
    const updatedEducations = [...educations];
    updatedEducations[index][field] = value;
    setEducations(updatedEducations);
  };

  const handleSubmit = () => {
    // Handle form submission here, e.g., send data to the server
    console.log(educations);
  };

  return (
    <div>
      {educations.map((education, index) => (
        <Box key={index} display="flex" alignItems="center" mb={2}>
          <FormControl variant="outlined" style={{ marginRight: 16 }}>
            <InputLabel>Degree</InputLabel>
            <Select
              value={education.degree}
              onChange={(e) => handleInputChange(index, 'degree', e.target.value)}
              label="Degree"
            >
              <MenuItem value="Bachelors">Bachelors</MenuItem>
              <MenuItem value="Masters">Masters</MenuItem>
              <MenuItem value="Ph.D.">Ph.D.</MenuItem>
            </Select>
          </FormControl>

          <TextField
            label="University"
            variant="outlined"
            value={education.university}
            onChange={(e) => handleInputChange(index, 'university', e.target.value)}
            style={{ marginRight: 16 }}
          />

          <TextField
            label="Percentage"
            variant="outlined"
            value={education.percentage}
            onChange={(e) => handleInputChange(index, 'percentage', e.target.value)}
            style={{ marginRight: 16 }}
          />

          {index > 0 && (
            <IconButton onClick={() => handleRemoveEducation(index)}>
              <RemoveCircle />
            </IconButton>
          )}
        </Box>
      ))}

      <Button variant="contained" color="primary" onClick={handleAddEducation}>
        Add
      </Button>

      <Button variant="contained" color="primary" onClick={handleSubmit} style={{ marginLeft: 16 }}>
        Submit
      </Button>
    </div>
  );
};

export default EducationForm;
